<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Red or Blue</title>
    <link href="https://fonts.googleapis.com/css?family=Raleway" rel="stylesheet">

    <style media="screen">
      body {
        font-family: 'Raleway', sans-serif;
      }
      .flex-container {
        display: flex;
      }
      .flex-container .score {
        padding: 25px;
      }
      #circle {
        border-radius: 50%;
        width: 200px;
        height: 200px;
        box-shadow: 2px 2px 5px rgba(0,0,0,0.5),
            inset 5px 5px 8px rgba(0,0,0,0.5);
      }
      .flex-container #circle p {
        justify-content: center;
        text-align: center;
      }
    </style>
  </head>
  <body>
    <div class="flex-container">
      <div class="myTitle">
        <h1>Welcome to the Red or Blue Show</h1>
        <h2>Your ball is below</h2>
      </div>
    </div>
    <div class="flex-container">

      <div id="circle">
        <p>My Circle</p>
      </div>
    </div><!-- End of Parent Flex Container   -->
    <div class="flex-container">
      <div class="score">
        <h2>You've seen blue <span id='blueCount'></span> times.</h2>
      </div>
      <div class="score">
         <h2>You've seen red <span id='redCount'></span> times.</h2>
      </div>
    </div>
  </body>
  <script type="text/javascript">
    let blue = "DodgerBlue";
    let red = "Red";
    let circleColor = document.getElementById('circle');
    let currentColor = !localStorage ? null : localStorage.colorSetting;
    let blueCounter = !localStorage ? 0 : localStorage.getItem('blueCounterSetting');
    let redCounter = !localStorage ? 0 : localStorage.getItem('redCounterSetting');

    function updateCircle(circleColor) {
      let numColor = Math.floor(Math.random() * 2) + 1;
      console.log(circleColor);
      console.log("Current Number is " + numColor);
      if (numColor === 1){
        circleColor.style.backgroundColor = blue;
        currentColor = blue;
        blueCounter = Number(blueCounter) + 1;
        console.log("Current Color is " + currentColor);
        console.log("Current blue counter is " + blueCounter);
        localStorage.setItem('blueCounterSetting', blueCounter);
        document.getElementById('blueCount').innerHTML = localStorage.getItem('blueCounterSetting');
      }
      if (numColor === 2) {
        circleColor.style.backgroundColor = red;
        currentColor = red;
        redCounter = Number(redCounter) + 1;
        console.log("Current Color is " + currentColor);
        console.log("Current red counter is " + redCounter);
        localStorage.setItem('redCounterSetting', redCounter);
        document.getElementById('redCount').innerHTML = localStorage.getItem('redCounterSetting');
      }
    }
    // Set initial count of times blue, red seen.
    document.getElementById('redCount').innerHTML = redCounter;
    document.getElementById('blueCount').innerHTML = blueCounter;

    // Execute script to randomly set ball color
    updateCircle(circleColor);

    // Set local storage of current color
    localStorage.setItem('colorSetting', currentColor);
  </script>

</html>
